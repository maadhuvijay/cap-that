<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 70523d24-4883-41b7-9ba7-d485059e0c08 (2025-12-17 16:30Z) -->

# Speckit task T017 (2025-12-17 16:30Z)

_**User (2025-12-17 02:58Z)**_

/speckit.tasks T017

--- Cursor Command: speckit.tasks.md ---
---
description: Generate an actionable, dependency-ordered tasks.md for the feature based on available design artifacts.
handoffs: 
  - label: Analyze For Consistency
    agent: speckit.analyze
    prompt: Run a project analysis for consistency
    send: true
  - label: Implement Project
    agent: speckit.implement
    prompt: Start the implementation in phases
    send: true
---

## User Input

```text
T017
```

You **MUST** consider the user input before proceeding (if not empty).

## Outline

1. **Setup**: Run `.specify/scripts/bash/check-prerequisites.sh --json` from repo root and parse FEATURE_DIR and AVAILABLE_DOCS list. All paths must be absolute. For single quotes in args like "I'm Groot", use escape syntax: e.g 'I'\''m Groot' (or double-quote if possible: "I'm Groot").

2. **Load design documents**: Read from FEATURE_DIR:
   - **Required**: plan.md (tech stack, libraries, structure), spec.md (user stories with priorities)
   - **Optional**: data-model.md (entities), contracts/ (API endpoints), research.md (decisions), quickstart.md (test scenarios)
   - Note: Not all projects have all documents. Generate tasks based on what's available.

3. **Execute task generation workflow**:
   - Load plan.md and extract tech stack, libraries, project structure
   - Load spec.md and extract user stories with their priorities (P1, P2, P3, etc.)
   - If data-model.md exists: Extract entities and map to user stories
   - If contracts/ exists: Map endpoints to user stories
   - If research.md exists: Extract decisions for setup tasks
   - Generate tasks organized by user story (see Task Generation Rules below)
   - Generate dependency graph showing user story completion order
   - Create parallel execution examples per user story
   - Validate task completeness (each user story has all needed tasks, independently testable)

4. **Generate tasks.md**: Use `.specify/templates/tasks-template.md` as structure, fill with:
   - Correct feature name from plan.md
   - Phase 1: Setup tasks (project initialization)
   - Phase 2: Foundational tasks (blocking prerequisites for all user stories)
   - Phase 3+: One phase per user story (in priority order from spec.md)
   - Each phase includes: story goal, independent test criteria, tests (if requested), implementation tasks
   - Final Phase: Polish & cross-cutting concerns
   - All tasks must follow the strict checklist format (see Task Generation Rules below)
   - Clear file paths for each task
   - Dependencies section showing story completion order
   - Parallel execution examples per story
   - Implementation strategy section (MVP first, incremental delivery)

5. **Report**: Output path to generated tasks.md and summary:
   - Total task count
   - Task count per user story
   - Parallel opportunities identified
   - Independent test criteria for each story
   - Suggested MVP scope (typically just User Story 1)
   - Format validation: Confirm ALL tasks follow the checklist format (checkbox, ID, labels, file paths)

Context for task generation: T017

The tasks.md should be immediately executable - each task must be specific enough that an LLM can complete it without additional context.

## Task Generation Rules

**CRITICAL**: Tasks MUST be organized by user story to enable independent implementation and testing.

**Tests are OPTIONAL**: Only generate test tasks if explicitly requested in the feature specification or if user requests TDD approach.

### Checklist Format (REQUIRED)

Every task MUST strictly follow this format:

```text
- [ ] [TaskID] [P?] [Story?] Description with file path
```

**Format Components**:

1. **Checkbox**: ALWAYS start with `- [ ]` (markdown checkbox)
2. **Task ID**: Sequential number (T001, T002, T003...) in execution order
3. **[P] marker**: Include ONLY if task is parallelizable (different files, no dependencies on incomplete tasks)
4. **[Story] label**: REQUIRED for user story phase tasks only
   - Format: [US1], [US2], [US3], etc. (maps to user stories from spec.md)
   - Setup phase: NO story label
   - Foundational phase: NO story label  
   - User Story phases: MUST have story label
   - Polish phase: NO story label
5. **Description**: Clear action with exact file path

**Examples**:

- ‚úÖ CORRECT: `- [ ] T001 Create project structure per implementation plan`
- ‚úÖ CORRECT: `- [ ] T005 [P] Implement authentication middleware in src/middleware/auth.py`
- ‚úÖ CORRECT: `- [ ] T012 [P] [US1] Create User model in src/models/user.py`
- ‚úÖ CORRECT: `- [ ] T014 [US1] Implement UserService in src/services/user_service.py`
- ‚ùå WRONG: `- [ ] Create User model` (missing ID and Story label)
- ‚ùå WRONG: `T001 [US1] Create model` (missing checkbox)
- ‚ùå WRONG: `- [ ] [US1] Create User model` (missing Task ID)
- ‚ùå WRONG: `- [ ] T001 [US1] Create model` (missing file path)

### Task Organization

1. **From User Stories (spec.md)** - PRIMARY ORGANIZATION:
   - Each user story (P1, P2, P3...) gets its own phase
   - Map all related components to their story:
     - Models needed for that story
     - Services needed for that story
     - Endpoints/UI needed for that story
     - If tests requested: Tests specific to that story
   - Mark story dependencies (most stories should be independent)

2. **From Contracts**:
   - Map each contract/endpoint ‚Üí to the user story it serves
   - If tests requested: Each contract ‚Üí contract test task [P] before implementation in that story's phase

3. **From Data Model**:
   - Map each entity to the user story(ies) that need it
   - If entity serves multiple stories: Put in earliest story or Setup phase
   - Relationships ‚Üí service layer tasks in appropriate story phase

4. **From Setup/Infrastructure**:
   - Shared infrastructure ‚Üí Setup phase (Phase 1)
   - Foundational/blocking tasks ‚Üí Foundational phase (Phase 2)
   - Story-specific setup ‚Üí within that story's phase

### Phase Structure

- **Phase 1**: Setup (project initialization)
- **Phase 2**: Foundational (blocking prerequisites - MUST complete before user stories)
- **Phase 3+**: User Stories in priority order (P1, P2, P3...)
  - Within each story: Tests (if requested) ‚Üí Models ‚Üí Services ‚Üí Endpoints ‚Üí Integration
  - Each phase should be a complete, independently testable increment
- **Final Phase**: Polish & Cross-Cutting Concerns

--- End Command ---

---

_**Agent (model default, mode Agent)**_



---


Running the prerequisites check to identify the feature directory and available documents.


---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_cmd">
<details><summary>Tool use: **run_terminal_cmd** ‚Ä¢ Run command: cd c:\dev\capthat\cap-that && bash .specify/scripts/bash/check-prerequisites.sh --json</summary>

```bash
cd c:\dev\capthat\cap-that && bash .specify/scripts/bash/check-prerequisites.sh --json
```

```
At C:\Users\maadh\AppData\Local\Temp\ps-script-d2627f50-e287-4cd9-8ec8-76eaf593de8e.ps1:7 char:28
+ cd c:\dev\capthat\cap-that &amp;&amp; bash .specify/scripts/bash/check-prereq ...
+                            ~~
The token '&amp;&amp;' is not a valid statement separator in this version.
    + CategoryInfo          : ParserError: (:) [], ParentContainsErrorRecordException
    + FullyQualifiedErrorId : InvalidEndOfLine
 

```
</details>
</tool-use>

---



---


Running the prerequisites check with PowerShell-compatible syntax:


---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_cmd">
<details><summary>Tool use: **run_terminal_cmd** ‚Ä¢ Run command: cd c:\dev\capthat\cap-that; bash .specify/scripts/bash/check-prerequisites.sh --json</summary>

```bash
cd c:\dev\capthat\cap-that; bash .specify/scripts/bash/check-prerequisites.sh --json
```

```
bash : The term 'bash' is not recognized as the name of a cmdlet, function, script file, or operable program. Check 
the spelling of the name, or if a path was included, verify that the path is correct and try again.
At C:\Users\maadh\AppData\Local\Temp\ps-script-976d9cdd-4df2-4ecc-bf85-f8d3bf62f98e.ps1:7 char:29
+ cd c:\dev\capthat\cap-that; bash .specify/scripts/bash/check-prerequi ...
+                             ~~~~
    + CategoryInfo          : ObjectNotFound: (bash:String) [], CommandNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException
 

```
</details>
</tool-use>

---



---


Reading the prerequisites script to understand what it does:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: .specify/scripts/bash/check-prerequisites.sh</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** ‚Ä¢ Searched codebase "**/tasks.md" ‚Ä¢ **1** result in **1** directory</summary>

Directory: **c:\dev\capthat\cap-that** (1 file)

| File |
|------|
| `specs\001-capthat-extension\tasks.md` |

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** ‚Ä¢ Searched codebase "What is task T017 or feature T017?" ‚Ä¢ **15** results</summary>
            
| File | Lines |
|------|-------|
| `.specify/templates/tasks-template.md` | L56 |
| `.specify/templates/tasks-template.md` | L51-107 |
| `.cursor/commands/speckit.tasks.md` | L42 |
| `.cursor/commands/speckit.tasks.md` | L40-85 |
| `.cursor/commands/speckit.tasks.md` | L83-126 |
| `.specify/templates/tasks-template.md` | L161-217 |
| `.specify/templates/tasks-template.md` | L103-166 |
| `.specify/templates/tasks-template.md` | L211-251 |
| `.specify/templates/spec-template.md` | L62 |
| `.cursor/commands/speckit.implement.md` | L48 |
| `.cursor/commands/speckit.plan.md` | L56 |
| `.specify/memory/constitution.md` | L47 |
| `.specify/templates/plan-template.md` | L47 |
| `.cursor/commands/speckit.taskstoissues.md` | L30 |
| `.cursor/commands/speckit.checklist.md` | L40 |

</details>
</tool-use>

---



---


Checking the feature directory structure and available documents:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: .specify/scripts/bash/common.sh</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** ‚Ä¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: specs/001-capthat-extension/spec.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: specs/001-capthat-extension/implementation-plan.md</summary>

</details>
</tool-use>

---



---


Checking available documents and reading the tasks template:


---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** ‚Ä¢ Searched codebase "**/data-model.md" ‚Ä¢ **0** result in **1** directory</summary>

Directory: **c:\dev\capthat\cap-that** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** ‚Ä¢ Searched codebase "**/research.md" ‚Ä¢ **0** result in **1** directory</summary>

Directory: **c:\dev\capthat\cap-that** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** ‚Ä¢ Searched codebase "**/quickstart.md" ‚Ä¢ **0** result in **1** directory</summary>

Directory: **c:\dev\capthat\cap-that** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_dir** ‚Ä¢ Listed directory, 0 results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: .specify/templates/tasks-template.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: specs/001-capthat-extension/tasks.md</summary>

</details>
</tool-use>

---



---


Generating tasks.md from spec.md and implementation-plan.md. Checking for additional documents, then creating the file.


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** ‚Ä¢ Read file: specs/001-capthat-extension/implementation-plan.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">

</tool-use>

---



---


Regenerating tasks.md from spec.md and implementation-plan.md, organized by user story priority.


---

Model failed to call the tool with correct arguments.

---



---


Creating tasks.md:


---

<tool-use data-tool-type="write" data-tool-name="write">

<details><summary>Tool use: **write** ‚Ä¢ Edit file: specs/001-capthat-extension/tasks.md</summary>

**Chunk 1**
Lines added: 11, lines removed: 2

```diff
@@ -1,6 +1,15 @@
+ ---
+ description: "Task list for CapThat Chrome Extension implementation"
+ ---
+ 
  # Tasks: CapThat Chrome Extension
  
- **Input**: Design documents from &#96;/specs/001-capthat-extension/&#96;
- **Prerequisites**: implementation-plan.md, spec.md
+ **Input**: Design documents from &#96;/specs/001-capthat-extension/&#96;  
+ **Prerequisites**: implementation-plan.md (required), spec.md (required for user stories)  
+ **Feature Branch**: &#96;001-capthat-extension&#96;  
+ **Generated**: 2025-01-27  
+ **Status**: Ready for Implementation
+ 
+ **Tests**: Tests are OPTIONAL - not included unless explicitly requested in the feature specification.
  
  **Organization**: Tasks are grouped by user story to enable independent implementation and testing of each story.
```

**Chunk 2**
Lines added: 10, lines removed: 4

```diff
@@ -11,16 +20,22 @@
  - **[Story]**: Which user story this task belongs to (e.g., [US1], [US2], [US3])
  - Include exact file paths in descriptions
- 
+ 
+ ## Path Conventions
+ 
+ - **Extension**: &#96;extension/&#96; at repository root
+ - **Web App**: &#96;app/&#96; at repository root (Next.js)
+ - **Shared**: &#96;shared/&#96; at repository root
+ 
  ---
  
- ## Phase 1: Setup (Shared Infrastructure)
+ ## Phase 1: Setup &amp; Build Pipeline
  
- **Purpose**: Project initialization and basic structure
+ **Purpose**: Project initialization and basic structure for Chrome Extension.
  
  **Independent Test**: Extension loads in Chrome via "Load unpacked" without errors.
  
  - [ ] T001 Create extension directory structure at &#96;extension/&#96;
  - [ ] T002 Initialize TypeScript configuration at &#96;extension/tsconfig.json&#96;
- - [ ] T003 [P] Configure Vite build system at &#96;extension/vite.config.ts&#96; for MV3 extension
+ - [ ] T003 Configure Vite build system at &#96;extension/vite.config.ts&#96; for MV3 extension
  - [ ] T004 Create manifest.json at &#96;extension/manifest.json&#96; with MV3 structure
  - [ ] T005 Configure minimal permissions in &#96;extension/manifest.json&#96; (storage, activeTab, scripting, sidePanel)
```

**Chunk 3**
Lines added: 11, lines removed: 11

```diff
@@ -29,30 +44,30 @@
  - [ ] T008 Create content script stub at &#96;extension/content/content-script.ts&#96;
  - [ ] T009 Create side panel HTML at &#96;extension/ui/side-panel.html&#96;
- - [ ] T010 [P] Setup build scripts in &#96;package.json&#96; for extension build
- - [ ] T011 [P] Verify Next.js setup exists at &#96;app/&#96; directory
- - [ ] T012 [P] Create shared code directory structure at &#96;shared/&#96;
- - [ ] T013 [P] Configure TypeScript project references for shared code in &#96;tsconfig.json&#96;
- - [ ] T014 Test extension loads in Chrome via "Load unpacked" without errors
+ - [ ] T010 Setup build scripts in &#96;package.json&#96; for extension build
+ - [ ] T011 Test extension loads in Chrome via "Load unpacked" without errors
+ - [ ] T012 Verify Next.js setup exists at &#96;app/&#96; directory
+ - [ ] T013 Create shared code directory structure at &#96;shared/&#96;
+ - [ ] T014 Configure TypeScript project references for shared code in &#96;tsconfig.json&#96;
  
  ---
  
  ## Phase 2: Foundational (Blocking Prerequisites)
  
- **Purpose**: Core infrastructure that MUST be complete before ANY user story can be implemented
+ **Purpose**: Core infrastructure that MUST be complete before ANY user story can be implemented.
  
- **‚ö†Ô∏è CRITICAL**: No user story work can begin until this phase is complete
+ **‚ö†Ô∏è CRITICAL**: No user story work can begin until this phase is complete.
  
- **Independent Test**: Storage adapters can save/load data, validators reject invalid inputs, message contracts defined.
+ **Independent Test**: Storage adapters can save/load data, validators reject invalid inputs.
  
  ### Type Definitions
  
- - [ ] T015 [P] Define TypeScript types at &#96;extension/types/index.ts&#96; (CapturedItem, CapBoard, ImageReference, ExportManifest)
- - [ ] T016 [P] Define shared types at &#96;shared/types/index.ts&#96; for extension and web compatibility
+ - [ ] T015 [P] Define TypeScript types at &#96;extension/types/index.ts&#96; (CapturedItem with id, imageReference, sourceUrl, timestamp, metadata, qualityIndicator; CapBoard with items array, metadata, gridConfig, exportHistory; ImageReference with urlOrBlob, thumbnail, dimensions, fallbackIndicator; ExportManifest with boardMetadata, itemReferences, exportTimestamp, formatVersion)
+ - [ ] T016 [P] Define shared types at &#96;shared/types/index.ts&#96; for extension and web compatibility (export CapturedItem, CapBoard, ImageReference, ExportManifest interfaces matching extension types)
  
  ### Storage Layer
  
  - [ ] T017 [P] Implement chrome.storage.local adapter at &#96;extension/storage/storage-adapter.ts&#96; (save/load board metadata, handle errors)
  - [ ] T018 [P] Implement IndexedDB adapter at &#96;extension/storage/indexeddb-adapter.ts&#96; for blob storage (store/retrieve image blobs)
- - [ ] T019 [P] Create storage interface/abstraction at &#96;extension/storage/storage-interface.ts&#96; (define IStorageAdapter interface)
+ - [ ] T019 [P] Create storage interface/abstraction at &#96;extension/storage/storage-interface.ts&#96; (define IStorageAdapter interface for both adapters)
  - [ ] T020 [P] Implement storage quota monitoring in &#96;extension/storage/storage-adapter.ts&#96; (check chrome.storage.quota, warn at 80% usage)
  - [ ] T021 [P] Implement board size limit enforcement (100 items) in &#96;extension/storage/storage-adapter.ts&#96; (prevent saves beyond 100 items)
```

**Chunk 4**
Lines added: 8, lines removed: 3

```diff
@@ -77,13 +92,18 @@
  ## Phase 3: User Story 1 - Load Extension in Chrome (Priority: P1) üéØ MVP
  
- **Goal**: Extension loads successfully in Chrome and appears in extensions list with icon and name "CapThat".
+ **Goal**: Extension loads successfully in Chrome and appears in extensions list with icon and name.
+ 
+ **Independent Test**: Run build command, open chrome://extensions, load unpacked extension, verify it appears with icon and name "CapThat", reload reflects code changes after rebuild.
  
- **Independent Test**: Run build command, open chrome://extensions, load unpacked extension, verify it appears with icon and name "CapThat", reload reflects code changes.
+ **Acceptance Criteria**:
+ - Extension loads without errors
+ - Extension shows icon and name "CapThat" in extensions list
+ - Reloading extension reflects code changes after rebuild
  
  ### Implementation for User Story 1
  
  - [ ] T029 [US1] Create extension icon files at &#96;extension/icons/icon16.png&#96;, &#96;extension/icons/icon48.png&#96;, &#96;extension/icons/icon128.png&#96;
  - [ ] T030 [US1] Verify extension name "CapThat" is configured in &#96;extension/manifest.json&#96; (name field)
- - [ ] T031 [US1] Verify build output generates valid extension structure in &#96;build/extension/&#96; (run build command and verify manifest.json, icons, and compiled JS files exist)
+ - [ ] T031 [US1] Verify build output generates valid extension structure in &#96;build/extension/&#96; (run &#96;npm run build:extension&#96; and verify manifest.json, icons, and compiled JS files exist)
  - [ ] T032 [US1] Test extension loads via "Load unpacked" in chrome://extensions (open chrome://extensions, enable Developer mode, click "Load unpacked", select &#96;build/extension/&#96; directory)
  - [ ] T033 [US1] Test extension reload reflects code changes after rebuild (make code change, rebuild, reload extension in chrome://extensions, verify change appears)
```

**Chunk 5**
Lines added: 7, lines removed: 2

```diff
@@ -95,7 +115,12 @@
  ## Phase 4: User Story 2 - Show CapThat Panel UI (Priority: P1) üéØ MVP
  
- **Goal**: Users can open CapThat panel and see complete UI with title "CapThat!", empty grid with N slots, and action buttons (Clear, Export JSON, Export CapBoard, Export Individual Caps).
+ **Goal**: Users can open CapThat panel and see complete UI with title, grid, and action buttons.
+ 
+ **Independent Test**: Click extension action button (or open side panel), verify UI displays with title "CapThat!", empty grid with N slots, buttons (Clear, Export JSON, Export CapBoard, Export Individual Caps), styled with Tailwind at desktop widths.
  
- **Independent Test**: Click extension action button (or open side panel), verify UI displays with title "CapThat!", empty grid with N slots, buttons, styled with Tailwind at desktop widths.
+ **Acceptance Criteria**:
+ - Panel opens via extension action button or side panel
+ - UI displays title "CapThat!", empty grid with N slots, action buttons
+ - UI is styled with Tailwind and usable at desktop widths
  
  ### Design System Setup
```

**Chunk 6**
Lines added: 8, lines removed: 2

```diff
@@ -130,9 +155,15 @@
  ## Phase 5: User Story 3 - Detect Capturable Images on Page (Priority: P2)
  
- **Goal**: Extension identifies images on the page and enables capture mode without breaking page layout.
+ **Goal**: Extension identifies images on the page and enables capture mode.
  
  **Independent Test**: Visit page with images, verify extension injects capture controls or enables capture mode without breaking page layout or producing console errors.
  
- ### Content Script Implementation
+ **Acceptance Criteria**:
+ - Extension injects capture controls or enables capture mode
+ - Images with valid sources are marked as capturable
+ - Page layout is not broken, page interactions work normally
+ - No console errors on common websites
+ 
+ ### Implementation for User Story 3
  
  - [ ] T050 [US3] Implement image detection logic in &#96;extension/content/content-script.ts&#96; (querySelector for &#96;&lt;img&gt;&#96; elements)
```

**Chunk 7**
Lines added: undefined, lines removed: 3

```diff
@@ -141,7 +172,4 @@
  - [ ] T053 [US3] Inject "Cap!" buttons with isolation in &#96;extension/content/content-script.ts&#96;
  - [ ] T054 [US3] Setup message passing to service worker in &#96;extension/content/content-script.ts&#96;
- 
- ### Security Hardening
- 
  - [ ] T055 [US3] Verify isolated world usage (no unsafeWindow) in &#96;extension/content/content-script.ts&#96;
  - [ ] T056 [US3] Sanitize DOM manipulation in &#96;extension/content/content-script.ts&#96;
```

**Chunk 8**
Lines added: 8, lines removed: 2

```diff
@@ -155,9 +183,15 @@
  ## Phase 6: User Story 4 - Capture Image Using "Cap!" Button (Priority: P2)
  
- **Goal**: Users can click "Cap!" on an image tile to add it to Cap Board within 2 seconds with all required metadata.
+ **Goal**: Users can click "Cap!" on an image tile to add it to Cap Board.
  
  **Independent Test**: Click "Cap!" on image, verify item appears in CapThat panel within 2 seconds with all required metadata, duplicate captures handled appropriately, 80/100 limit warnings shown.
  
- ### Capture Logic
+ **Acceptance Criteria**:
+ - Item appears in panel within 2 seconds
+ - Item includes image reference, source page URL, captured timestamp
+ - Duplicate captures handled consistently (content hash matching)
+ - Warning shown at 80 items, capture blocked at 100 items
+ 
+ ### Implementation for User Story 4
  
  - [ ] T059 [US4] Implement capture request handler in &#96;extension/background/service-worker.ts&#96;
```

**Chunk 9**
Lines added: 9, lines removed: 2

```diff
@@ -178,9 +212,16 @@
  ## Phase 7: User Story 5 - View Captured Items in Grid (Priority: P2)
  
- **Goal**: Users can see captured items rendered as thumbnails in grid slots with metadata.
+ **Goal**: Users can see captured items rendered as thumbnails in grid slots.
  
  **Independent Test**: Capture multiple items, verify they render as thumbnails in grid slots with metadata, board state persists across refreshes and browser restarts.
  
- ### Grid Implementation
+ **Acceptance Criteria**:
+ - Empty grid slots display placeholders with capture hint text
+ - Captured items render as thumbnails in grid slots
+ - Grid cells show thumbnail and optional metadata
+ - Virtual scrolling handles more than N items
+ - Board state persists across refreshes and browser restarts
+ 
+ ### Implementation for User Story 5
  
  - [ ] T069 [US5] Implement grid rendering in &#96;extension/ui/components/ImageGrid.tsx&#96; (render captured items as thumbnails)
```

**Chunk 10**
Lines added: 8, lines removed: 2

```diff
@@ -197,9 +238,15 @@
  ## Phase 8: User Story 8 - Persist Board Using Extension Storage (Priority: P2)
  
- **Goal**: Board is saved automatically using chrome.storage.local for metadata and IndexedDB for blobs, and loads when panel reopens.
+ **Goal**: Board is saved automatically and loads when panel reopens.
  
  **Independent Test**: Capture items, close and reopen panel, verify items load automatically, storage errors handled gracefully.
  
- ### Storage Persistence
+ **Acceptance Criteria**:
+ - Board metadata persisted using chrome.storage.local
+ - Image blobs stored in IndexedDB
+ - Previously captured items load automatically on panel open
+ - Storage errors handled with non-blocking error messages
+ 
+ ### Implementation for User Story 8
  
  - [ ] T075 [US8] Implement save board metadata in &#96;extension/storage/storage-adapter.ts&#96; (chrome.storage.local)
```

**Chunk 11**
Lines added: 7, lines removed: 2

```diff
@@ -215,9 +262,14 @@
  ## Phase 9: User Story 12 - Handle CORS-Blocked Images with Fallback (Priority: P2)
  
- **Goal**: Extension captures images even when direct download fails due to CORS, using fallback mechanisms.
+ **Goal**: Extension captures images even when direct download fails due to CORS.
  
  **Independent Test**: Attempt to capture CORS-blocked images, verify fallback mechanisms work, items added to board with usable thumbnail, users informed about fallback usage.
  
- ### CORS Fallback Implementation
+ **Acceptance Criteria**:
+ - System tries capture in order: store URL, attempt fetch blob, fallback to visible tab capture (optional v2)
+ - Items added to board with usable thumbnail even when fallback used
+ - Users informed via badge or tooltip when lower-quality fallback used
+ 
+ ### Implementation for User Story 12
  
  - [ ] T080 [US12] Implement fallback capture strategy in &#96;extension/background/service-worker.ts&#96; (URL ‚Üí blob ‚Üí tab capture)
```

**Chunk 12**
Lines added: 7, lines removed: 1

```diff
@@ -236,5 +288,11 @@
  **Independent Test**: Remove individual item, verify it disappears immediately, removed from storage, other items remain intact.
  
- ### Remove Functionality
+ **Acceptance Criteria**:
+ - Remove control (X button) available on each item
+ - Item disappears immediately when removed
+ - Item removed from storage
+ - Other items remain on board
+ 
+ ### Implementation for User Story 6
  
  - [ ] T084 [US6] Add remove button to items in &#96;extension/ui/components/ImageCard.tsx&#96;
```

**Chunk 13**
Lines added: 8, lines removed: 2

```diff
@@ -249,9 +307,15 @@
  ## Phase 11: User Story 7 - Clear the Entire Cap Board (Priority: P3)
  
- **Goal**: Users can clear the entire board with confirmation step.
+ **Goal**: Users can clear the entire board with confirmation.
  
  **Independent Test**: Click "Clear Cap Board", confirm action, verify all items removed from UI and storage.
  
- ### Clear Board Implementation
+ **Acceptance Criteria**:
+ - "Clear Cap Board" button available
+ - Confirmation step (modal or confirm prompt) shown
+ - All items removed from UI on confirmation
+ - All stored items deleted from extension storage
+ 
+ ### Implementation for User Story 7
  
  - [ ] T088 [US7] Implement clear button handler in &#96;extension/ui/components/CapBoardPanel.tsx&#96;
```

**Chunk 14**
Lines added: 7, lines removed: 2

```diff
@@ -266,9 +330,14 @@
  ## Phase 12: User Story 9 - Export Board Metadata as JSON (Priority: P3)
  
- **Goal**: Users can export board metadata as JSON file with all required metadata fields.
+ **Goal**: Users can export board metadata as JSON file.
  
  **Independent Test**: Click "Export JSON", verify valid JSON file downloads with all required metadata fields for each item.
  
- ### JSON Export
+ **Acceptance Criteria**:
+ - .json file downloads on click
+ - JSON includes for each item: id, image URL (or filename reference), source page URL, captured timestamp, optional metadata
+ - JSON validates (no circular refs, valid UTF-8)
+ 
+ ### Implementation for User Story 9
  
  - [ ] T092 [US9] Implement JSON export logic at &#96;extension/export/json-export.ts&#96;
```

**Chunk 15**
Lines added: 7, lines removed: 2

```diff
@@ -284,9 +353,14 @@
  ## Phase 13: User Story 10 - Export Individual Captured Images (Priority: P3)
  
- **Goal**: Users can export each captured image as separate files with consistent, unique filenames.
+ **Goal**: Users can export each captured image as separate files.
  
  **Independent Test**: Click "Export Individual Caps", verify multiple image files download with consistent, unique filenames, CORS-blocked images handled appropriately.
  
- ### Individual Image Export
+ **Acceptance Criteria**:
+ - Multiple image files download on click
+ - Filenames are consistent and unique (cap-&lt;timestamp&gt;-&lt;id&gt;.png)
+ - CORS-blocked images skipped and reported in summary
+ 
+ ### Implementation for User Story 10
  
  - [ ] T097 [US10] Implement individual image export logic at &#96;extension/export/image-export.ts&#96;
```

**Chunk 16**
Lines added: 7, lines removed: 2

```diff
@@ -304,9 +378,14 @@
  ## Phase 14: User Story 11 - Export Full Cap Board as ZIP (Priority: P3)
  
- **Goal**: Users can export full board as single ZIP file containing images folder and board.json manifest.
+ **Goal**: Users can export full board as single ZIP file.
  
  **Independent Test**: Click "Export CapBoard", verify ZIP file downloads containing images folder and board.json manifest, completes successfully for boards up to 50 items.
  
- ### ZIP Export
+ **Acceptance Criteria**:
+ - Single .zip file downloads on click
+ - ZIP contains /images/ folder with images (if available) and board.json manifest
+ - Export completes without crashing for boards up to 50 items
+ 
+ ### Implementation for User Story 11
  
  - [ ] T104 [US11] Install JSZip dependency in &#96;package.json&#96;
```

**Chunk 17**
Lines added: 8, lines removed: 2

```diff
@@ -324,9 +403,15 @@
  ## Phase 15: User Story 13 - Show Status Feedback for Actions (Priority: P3)
  
- **Goal**: Users receive confirmation and error feedback for all actions via toast notifications.
+ **Goal**: Users receive confirmation and error feedback for all actions.
  
  **Independent Test**: Perform various actions (capture, export, clear), verify appropriate feedback messages appear without blocking user interaction except for clear confirmation.
  
- ### Toast System
+ **Acceptance Criteria**:
+ - Toast appears "Captured" when "Cap!" clicked
+ - "Exported successfully" message on export success
+ - Toast notification with clear error message (permission/CORS/storage) and retry button on failure
+ - No blocking alerts except for "Clear board confirmation"
+ 
+ ### Implementation for User Story 13
  
  - [ ] T111 [US13] Create toast component at &#96;extension/ui/components/Toast.tsx&#96;
```

**Chunk 18**
Lines added: 8, lines removed: 2

```diff
@@ -344,9 +429,15 @@
  ## Phase 16: User Story 14 - Send Captured Items to Local Next.js API (Priority: P4 - Optional Phase 2)
  
- **Goal**: Extension posts captured items to local Next.js API when available, with fallback to extension storage.
+ **Goal**: Extension posts captured items to local Next.js API when available.
  
  **Independent Test**: Capture items, verify they are posted to local Next.js API when available, appropriate fallback behavior when app is not running.
  
- ### Next.js API Integration
+ **Acceptance Criteria**:
+ - Extension posts captured payload to http://localhost:3000/api/capture when local app running
+ - Extension falls back to extension-only storage when local app not running
+ - "Local app not detected" message shown when app unavailable
+ - Items stored and displayed in Next.js board view
+ 
+ ### Implementation for User Story 14
  
  - [ ] T118 [US14] Create Next.js API endpoint at &#96;app/api/capture/route.ts&#96; (POST handler)
```

**Chunk 19**
Lines added: 3, lines removed: 1

```diff
@@ -368,5 +459,7 @@
  ## Phase 17: Polish &amp; Cross-Cutting Concerns
  
- **Purpose**: Improvements that affect multiple user stories
+ **Purpose**: Improvements that affect multiple user stories.
+ 
+ **Independent Test**: All security acceptance criteria pass, performance acceptable with 100 items, UI polished and accessible.
  
  ### Security Hardening
```

**Chunk 20**
Lines added: 9, lines removed: 9

```diff
@@ -385,19 +478,19 @@
  ### Performance Optimization
  
- - [ ] T139 [P] Optimize thumbnail rendering for 100 items in &#96;extension/ui/components/ImageGrid.tsx&#96;
- - [ ] T140 [P] Implement lazy loading for images in &#96;extension/ui/components/ImageCard.tsx&#96;
- - [ ] T141 [P] Test virtual scrolling performance with 100 items
+ - [ ] T139 Optimize thumbnail rendering for 100 items in &#96;extension/ui/components/ImageGrid.tsx&#96;
+ - [ ] T140 Implement lazy loading for images in &#96;extension/ui/components/ImageCard.tsx&#96;
+ - [ ] T141 Test virtual scrolling performance with 100 items
  
  ### Accessibility &amp; UX
  
- - [ ] T142 [P] Verify high contrast text on dark background (WCAG AA compliance)
- - [ ] T143 [P] Verify keyboard navigation works (tab navigation, Enter/Space activation)
- - [ ] T144 [P] Test all interactive elements have hover states
- - [ ] T145 [P] Verify transitions are smooth (200-300ms, no jank)
+ - [ ] T142 Verify high contrast text on dark background (WCAG AA compliance)
+ - [ ] T143 Verify keyboard navigation works (tab navigation, Enter/Space activation)
+ - [ ] T144 Test all interactive elements have hover states
+ - [ ] T145 Verify transitions are smooth (200-300ms, no jank)
  
  ### Documentation
  
- - [ ] T146 [P] Create README.md at &#96;extension/README.md&#96; with setup and usage instructions
- - [ ] T147 [P] Document security considerations in &#96;extension/SECURITY.md&#96;
+ - [ ] T146 Create README.md at &#96;extension/README.md&#96; with setup and usage instructions
+ - [ ] T147 Document security considerations in &#96;extension/SECURITY.md&#96;
  
  ---
```

**Chunk 21**
Lines added: 3, lines removed: 3

```diff
@@ -409,8 +502,8 @@
  - **Setup (Phase 1)**: No dependencies - can start immediately
  - **Foundational (Phase 2)**: Depends on Setup completion - BLOCKS all user stories
- - **User Stories (Phase 3-16)**: All depend on Foundational phase completion
+ - **User Stories (Phase 3+)**: All depend on Foundational phase completion
    - User stories can then proceed in parallel (if staffed)
-   - Or sequentially in priority order (P1 ‚Üí P2 ‚Üí P3 ‚Üí P4)
- - **Polish (Phase 17)**: Depends on all desired user stories being complete
+   - Or sequentially in priority order (P1 ‚Üí P2 ‚Üí P3)
+ - **Polish (Final Phase)**: Depends on all desired user stories being complete
  
  ### User Story Dependencies
```

**Chunk 22**
Lines added: 43, lines removed: 47

```diff
@@ -419,67 +512,63 @@
  - **User Story 2 (P1)**: Can start after Foundational (Phase 2) - No dependencies on other stories
  - **User Story 3 (P2)**: Can start after Foundational (Phase 2) - No dependencies on other stories
- - **User Story 4 (P2)**: Can start after Foundational (Phase 2) and User Story 3 (needs image detection) - May integrate with US5, US8, US12 but should be independently testable
- - **User Story 5 (P2)**: Depends on User Stories 2, 4, 8 (needs UI, captures, storage)
- - **User Story 6 (P3)**: Depends on User Story 5 (needs grid to remove from)
- - **User Story 7 (P3)**: Depends on User Story 5 (needs board to clear)
- - **User Story 8 (P2)**: Can start after User Story 4 (needs captures to persist)
- - **User Story 9 (P3)**: Depends on User Story 5 (needs board data to export)
- - **User Story 10 (P3)**: Depends on User Story 5 (needs board data to export)
- - **User Story 11 (P3)**: Depends on User Stories 9, 10 (combines JSON and image export)
- - **User Story 12 (P2)**: Depends on User Story 4 (enhances capture logic)
- - **User Story 13 (P3)**: Depends on User Stories 4, 7, 9, 10, 11 (provides feedback for actions)
- - **User Story 14 (P4)**: Can start after User Story 4 (needs capture logic) - Optional Phase 2
+ - **User Story 4 (P2)**: Depends on US3 (images must be detected before capture)
+ - **User Story 5 (P2)**: Depends on US2 (UI needed), US4 (captures needed), US8 (persistence needed)
+ - **User Story 6 (P3)**: Depends on US5 (grid needed)
+ - **User Story 7 (P3)**: Depends on US5 (grid needed)
+ - **User Story 8 (P2)**: Can start after US4 (captures needed) - Can run in parallel with US5
+ - **User Story 9 (P3)**: Depends on US5 (board needed)
+ - **User Story 10 (P3)**: Depends on US5 (board needed)
+ - **User Story 11 (P3)**: Depends on US9, US10 (export components needed)
+ - **User Story 12 (P2)**: Depends on US4 (capture needed) - Can run in parallel with US5, US8
+ - **User Story 13 (P3)**: Depends on US4, US9, US10, US11, US7 (actions needed for feedback)
+ - **User Story 14 (P4)**: Can start after US4 (capture needed) - Optional, can run independently
  
  ### Within Each User Story
  
- - Models/types before services/implementations
- - Services before endpoints/UI integration
+ - Models before services
+ - Services before endpoints/UI
  - Core implementation before integration
  - Story complete before moving to next priority
  
  ### Parallel Opportunities
  
- - All Setup tasks marked [P] can run in parallel
+ - All Setup tasks can run in parallel (different files)
  - All Foundational tasks marked [P] can run in parallel (within Phase 2)
- - Once Foundational phase completes, User Stories 1, 2, 3 can start in parallel
- - After User Story 3, User Story 4 can start
- - After User Stories 2, 4, 8, User Story 5 can start
- - After User Story 5, User Stories 6, 7, 9, 10 can run in parallel
- - After User Stories 9, 10, User Story 11 can start
- - All tests for a user story marked [P] can run in parallel
- - Components within a story marked [P] can run in parallel
- - Different user stories can be worked on in parallel by different team members (when dependencies allow)
+ - Once Foundational phase completes, all user stories can start in parallel (if team capacity allows)
+ - Models within a story marked [P] can run in parallel
+ - Different user stories can be worked on in parallel by different team members
  
  ---
  
- ## Parallel Example: User Story 2
- 
+ ## Parallel Execution Examples
+ 
+ ### After Phase 2 (Foundational):
  &#96;&#96;&#96;bash
- # Launch all UI components in parallel:
- Task: T038 [P] [US2] Implement Header component at extension/ui/components/Header.tsx
- Task: T039 [P] [US2] Implement ActionButton component at extension/ui/components/ActionButton.tsx
- Task: T040 [P] [US2] Implement ImageCard component at extension/ui/components/ImageCard.tsx
- Task: T041 [P] [US2] Implement ImageGrid component at extension/ui/components/ImageGrid.tsx
- Task: T042 [P] [US2] Implement CapBoardPanel component at extension/ui/components/CapBoardPanel.tsx
+ # Launch all foundational tasks in parallel:
+ Task: "Define TypeScript types at extension/types/index.ts"
+ Task: "Define shared types at shared/types/index.ts"
+ Task: "Implement chrome.storage.local adapter at extension/storage/storage-adapter.ts"
+ Task: "Implement IndexedDB adapter at extension/storage/indexeddb-adapter.ts"
+ Task: "Implement URL validator at extension/validation/url-validator.ts"
+ Task: "Implement image validator at extension/validation/image-validator.ts"
+ Task: "Define message types at extension/types/messages.ts"
+ &#96;&#96;&#96;
+ 
+ ### After Phase 4 (US2 - Panel UI):
+ &#96;&#96;&#96;bash
+ # Launch UI components in parallel:
+ Task: "Implement Header component at extension/ui/components/Header.tsx"
+ Task: "Implement ActionButton component at extension/ui/components/ActionButton.tsx"
+ Task: "Implement ImageCard component at extension/ui/components/ImageCard.tsx"
+ Task: "Implement ImageGrid component at extension/ui/components/ImageGrid.tsx"
+ Task: "Implement CapBoardPanel component at extension/ui/components/CapBoardPanel.tsx"
  &#96;&#96;&#96;
  
- ## Parallel Example: Phase 2 (Foundational)
- 
+ ### After Phase 6 (US4 - Capture):
  &#96;&#96;&#96;bash
- # Launch all foundational tasks in parallel:
- Task: T015 [P] Define TypeScript types at extension/types/index.ts
- Task: T016 [P] Define shared types at shared/types/index.ts
- Task: T017 [P] Implement chrome.storage.local adapter at extension/storage/storage-adapter.ts
- Task: T018 [P] Implement IndexedDB adapter at extension/storage/indexeddb-adapter.ts
- Task: T019 [P] Create storage interface at extension/storage/storage-interface.ts
- Task: T020 [P] Implement storage quota monitoring in extension/storage/storage-adapter.ts
- Task: T021 [P] Implement board size limit enforcement in extension/storage/storage-adapter.ts
- Task: T022 [P] Implement warning threshold in extension/storage/storage-adapter.ts
- Task: T023 [P] Implement URL validator at extension/validation/url-validator.ts
- Task: T024 [P] Implement image validator at extension/validation/image-validator.ts
- Task: T025 [P] Implement schema validator at extension/validation/schema-validator.ts
- Task: T026 [P] Create shared URL validator at shared/validators/url.ts
- Task: T027 [P] Define message types at extension/types/messages.ts
- Task: T028 [P] Implement message validation in extension/background/service-worker.ts
+ # Launch parallel stories:
+ Task: "Implement grid rendering in extension/ui/components/ImageGrid.tsx" (US5)
+ Task: "Implement save board metadata in extension/storage/storage-adapter.ts" (US8)
+ Task: "Implement fallback capture strategy in extension/background/service-worker.ts" (US12)
  &#96;&#96;&#96;
  
```

**Chunk 23**
Lines added: 2, lines removed: 4

```diff
@@ -504,8 +593,6 @@
  4. Add User Story 3 ‚Üí Test independently ‚Üí Deploy/Demo (Images detected!)
  5. Add User Story 4 ‚Üí Test independently ‚Üí Deploy/Demo (Capture works!)
- 6. Add User Story 5 ‚Üí Test independently ‚Üí Deploy/Demo (Board visible!)
- 7. Add User Story 8 ‚Üí Test independently ‚Üí Deploy/Demo (Persistence works!)
- 8. Continue with remaining stories in priority order...
- 9. Each story adds value without breaking previous stories
+ 6. Add User Story 5 ‚Üí Test independently ‚Üí Deploy/Demo (Grid displays!)
+ 7. Each story adds value without breaking previous stories
  
  ### Parallel Team Strategy
```

**Chunk 24**
Lines added: 4, lines removed: 5

```diff
@@ -517,9 +604,8 @@
     - Developer A: User Story 1 (Load Extension)
     - Developer B: User Story 2 (Panel UI)
-    - Developer C: User Story 3 (Detect Images)
- 3. After User Story 3:
-    - Developer A: User Story 4 (Capture)
-    - Developer B: User Story 5 (View Grid) + User Story 8 (Persist)
-    - Developer C: User Story 12 (CORS Fallback)
+ 3. Once US1 and US2 are done:
+    - Developer A: User Story 3 (Detect Images)
+    - Developer B: User Story 4 (Capture)
+    - Developer C: User Story 5 (View Grid) + US8 (Persistence)
  4. Stories complete and integrate independently
  
```

**Chunk 25**
Lines added: 1, lines removed: 1

```diff
@@ -547,5 +633,5 @@
  - Phase 15 (US13): 7 tasks
  - Phase 16 (US14): 11 tasks
- - Phase 17 (Polish): 19 tasks
+ - Phase 17 (Polish): 20 tasks
  
  ### Tasks by User Story:
```

**Chunk 26**
Lines added: 21, lines removed: 18

```diff
@@ -566,33 +652,36 @@
  
  ### Parallel Opportunities Identified:
- - 28 tasks marked with &#96;[P]&#96; can be worked on in parallel (within their phases)
+ - 28 tasks marked with &#96;[P]&#96; can be worked on in parallel
  
  ### Independent Test Criteria for Each Story:
- - **US1**: Extension loads in Chrome, appears in extensions list, reload reflects changes
- - **US2**: Panel opens, UI displays with title, grid, buttons, styled correctly
- - **US3**: Images detected, capture controls injected, no page breakage, no console errors
- - **US4**: Click "Cap!" adds item to board within 2 seconds, metadata included, duplicates handled, limits enforced
- - **US5**: Grid displays items as thumbnails, empty states shown, persistence works
- - **US6**: Remove button works, item disappears, removed from storage, others intact
- - **US7**: Clear button works with confirmation, all items removed from UI and storage
- - **US8**: Board persists, loads on panel open, storage errors handled
- - **US9**: JSON export downloads, includes all metadata, validates correctly
- - **US10**: Individual images export, unique filenames, CORS handled
- - **US11**: ZIP export downloads, contains images and manifest, completes for 50 items
- - **US12**: CORS-blocked images captured via fallback, thumbnail usable, user informed
- - **US13**: Toast notifications appear for actions, errors show with retry, no blocking alerts
- - **US14**: Items posted to API when available, fallback works, board view displays items
+ - **US1**: Extension loads in Chrome, appears in extensions list
+ - **US2**: Panel opens and displays complete UI
+ - **US3**: Images detected without breaking pages
+ - **US4**: Capture adds item to board within 2 seconds
+ - **US5**: Grid displays captured items, persists across restarts
+ - **US6**: Remove item works, other items remain
+ - **US7**: Clear board works with confirmation
+ - **US8**: Board persists and loads automatically
+ - **US9**: JSON export generates valid file
+ - **US10**: Individual images export with unique filenames
+ - **US11**: ZIP export completes for boards up to 50 items
+ - **US12**: CORS-blocked images captured with fallback
+ - **US13**: Status feedback appears for all actions
+ - **US14**: Items posted to Next.js API when available
  
- ### Suggested MVP Scope (typically just User Story 1-2):
+ ### Suggested MVP Scope:
  - **MVP v1**: Phases 1-4 (Setup + Foundational + US1 + US2)
    - Total MVP tasks: 49 tasks
    - Delivers: Extension loads, panel UI displays, foundation for all features
  
- ### Format Validation:
+ ---
+ 
+ ## Format Validation
+ 
  ‚úÖ All tasks follow the strict checklist format:
  - Checkbox: &#96;- [ ]&#96;
  - Task ID: &#96;T001&#96;, &#96;T002&#96;, etc.
  - Parallel marker: &#96;[P]&#96; where applicable
- - Story label: &#96;[US1]&#96;, &#96;[US2]&#96;, etc. for user story phases (none for Setup/Foundational/Polish)
+ - Story label: &#96;[US1]&#96;, &#96;[US2]&#96;, etc. for user story phases
  - Description: Clear action with exact file path
  
```

</details>

</tool-use>

---



---


Checking for linting errors and preparing a summary:


---

<tool-use data-tool-type="generic" data-tool-name="read_lints">
<details>
          <summary>Tool use: **read_lints** ‚Ä¢ Read lints for 1 file</summary>
      
Lint paths:

- `specs/001-capthat-extension/tasks.md`

Lint results


**No lint errors found**
</details>
</tool-use>

---



---


Generated `tasks.md` for the CapThat Chrome Extension feature. Summary:

## Report: Tasks Generation Complete

**Generated File**: `specs/001-capthat-extension/tasks.md`

### Summary Statistics

- **Total Tasks**: 147 tasks
- **User Stories**: 14 (P1: 2, P2: 5, P3: 6, P4: 1)
- **Phases**: 17 phases (Setup ‚Üí Foundational ‚Üí 14 User Story phases ‚Üí Polish)
- **Parallel Opportunities**: 28 tasks marked with `[P]` can run in parallel

### Task Distribution

**By Priority**:
- **P1 (MVP)**: 21 tasks (US1: 5, US2: 16)
- **P2**: 34 tasks (US3: 9, US4: 10, US5: 6, US8: 5, US12: 4)
- **P3**: 30 tasks (US6: 4, US7: 4, US9: 5, US10: 7, US11: 7, US13: 7)
- **P4 (Optional)**: 11 tasks (US14)
- **Setup/Foundational/Polish**: 51 tasks

### Suggested MVP Scope

**MVP v1**: Phases 1-4 (Setup + Foundational + US1 + US2)
- **Total MVP tasks**: 49 tasks
- **Delivers**: Extension loads in Chrome, panel UI displays, foundation for all features

### Format Validation

All 147 tasks follow the checklist format:
- Checkbox: `- [ ]`
- Task ID: Sequential (T001-T147)
- Parallel marker: `[P]` where applicable (28 tasks)
- Story label: `[US1]`, `[US2]`, etc. for user story phases
- File paths: Exact paths included in each task description

### Key Features

1. **User Story Organization**: Each user story has its own phase with independent test criteria
2. **Dependency Graph**: Clear execution order with parallel opportunities identified
3. **Implementation Strategy**: MVP-first approach with incremental delivery options
4. **Parallel Examples**: Specific examples showing which tasks can run simultaneously

### Independent Test Criteria

Each user story includes:
- Clear goal statement
- Independent test criteria
- Acceptance criteria from spec.md
- Checkpoint validation

The tasks.md file is ready for implementation. Each task is specific enough that an LLM can complete it without additional context, with exact file paths and clear action descriptions.

---

